<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>

      function doPrev(fileCtrl,imgPrev)
      {
          let [file] = fileCtrl.files
          if (file) {
              imgPrev.src = URL.createObjectURL(file)
          }
      }

      $(document).ready(function(){

       $("#profileset").click(function() {
               let obj = {
                   type: "post",
                   url: "/profiletabledata",
                   data: {
                       txtEmail: $("#emailprofile").val(),
                       pwd: $("#password").val(),
                       city : $("#city").val(),
                       state : $("#state").val(),
                       insta: $("#insta").val(),
                       contact: $("#contact").val(),
                       facebook: $("#facebook").val(),
                       address: $("#inputAddress").val(),
                       image: $("#inputpic").val()
                   }
               };
               $.ajax(obj).done(function(resp) {
                   alert(resp);
               }).fail(function(err) {
                   alert(err.statusText);
               });
           });
   })
  </script>
</head>
<body style="margin:10px;">
    <div style="width: 940px; background-color: rgb(255, 255, 255); margin-left:20%; margin-top: 50px; height: 500px; padding: 10px; border: 2px black solid;" >
    <form class="row g-3" enctype="multipart/form-data">
        <div class="col-md-6" style="width: 200px; height: fit-content;">
          <label for="inputEmail4" class="form-label">Email</label>
          <input type="email" class="form-control" id="emailprofile">
          <button formaction="/selectall" type="submit" class="btn btn-primary" style="width: 80px; height: 30px ; margin-top: 10px;">Select</button>
        </div>
        <div class="col-md-6" style="width: 250px;">
          <label for="inputPassword4" class="form-label">Password</label>
          <input type="password" class="form-control" id="password">
        </div>
        <div class="col-md-6" style="width: 260px; display: flex; justify-content:space-around; flex-direction:column-reverse; margin-left: 200px;"  >
          <label for="inputpic" class="form-label"></label>
          <input type="file" class="form-control" id="inputpic" style="height: 38px; margin-top: 30px;" onchange="doPrev(this,prev);">
          <img src="" id="prev" alt="" width="100" height="100">
        </div>
        <div class="col-12" style="width: 350px;">
          <label for="inputAddress" class="form-label">Address</label>
          <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St">
        </div>
        <div class="col-md-4">
          <label for="inputState" class="form-label" >State</label>
          <select  class="form-select" id="state">
            <option value="Andhra Pradesh">Andhra Pradesh</option>
            <option value="Arunachal Pradesh">Arunachal Pradesh</option>
            <option value="Assam">Assam</option>
            <option value="Bihar">Bihar</option>
            <option value="Chhattisgarh">Chhattisgarh</option>
            <option value="Goa">Goa</option>
            
            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
          </select>
        </div>
        <div class="col-md-6" style="width: 250px;">
          <label for="inputCity" class="form-label" >City</label>
          <input type="text" class="form-control" id="city">
        </div>
        <div class="col-md-6" style="width: 250px;">
          <label for="Instagram" class="form-label" >Instagram</label>
          <input type="text" class="form-control" id="insta">
        </div>
        <div class="col-md-6" style="width: 250px;">
          <label for="Contact No" class="form-label" >Contact No</label>
          <input type="text" class="form-control" id="contact">
        </div>
        <div class="col-md-6" style="width: 250px;">
          <label for="Facebook" class="form-label">Facebook</label>
          <input type="text" class="form-control" id="facebook">
        </div>
        <div class="col-12">
          <button type="submit" class="btn btn-primary" style="margin-left: 400px;" id="profileset" >Submit</button>
        </div>
      </form>
    </div>
</body>
</html>